# どのようにログを検索するか

## 通常のデータ分析基盤との違い

- 横断的にログを検索したい
  - 特定のキー（IPアドレス、ドメイン名、ユーザ名、etc）に関連するログを一度に引き抜きたい
  - ある特定のサービス、アプリなどに限定する場合もあるが、"全部" から一度に探したい
- ログのスキーマをメンテしたくない
  - 多種多様なログが入り乱れるので全部のスキーマを定義してメンテするのは大変
  - スキーマが仕様として明らかではないログもある（GuardDutyとか）

## セキュリティ監視目的で正規化する難しさ

- 統一されたスキーマに正規化するのは非常に難しい
- 同じ項目にしても様々な文脈でログに出現する
    - IPアドレス：アクセス元、アクセス先、イベントが発生したホストのローカルIPアドレス、インターネットへアクセスする際のグローバルIPアドレス、などなど
    - ユーザ名：操作しているユーザ名、ログインを試みているユーザ名、操作対象となるユーザ名（例えば権限変更）、などなど

## 検索基盤の選び方

